!function(){var e,t,u,l,i,o,c,d,p,f,m,y,v,g,S,w,x,k,b,E,_,F,O,P,N,T,n,$=function(e){var t=new $.Index;return t.pipeline.add($.trimmer,$.stopWordFilter,$.stemmer),e&&e.call(t,t),t};$.version="0.5.12",$.utils={},$.utils.warn=(n=this,function(e){n.console&&console.warn&&console.warn(e)}),$.EventEmitter=function(){this.events={}},$.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),i=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");i.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},$.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var i=this.events[e].indexOf(t);this.events[e].splice(i,1),this.events[e].length||delete this.events[e]}},$.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)})}},$.EventEmitter.prototype.hasHandler=function(e){return e in this.events},$.tokenizer=function(e){return arguments.length&&null!=e&&null!=e?Array.isArray(e)?e.map(function(e){return e.toLowerCase()}):e.toString().trim().toLowerCase().split(/[\s\-]+/):[]},$.Pipeline=function(){this._stack=[]},$.Pipeline.registeredFunctions={},$.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&$.utils.warn("Overwriting existing registered function: "+t),e.label=t,$.Pipeline.registeredFunctions[e.label]=e},$.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||$.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},$.Pipeline.load=function(e){var i=new $.Pipeline;return e.forEach(function(e){var t=$.Pipeline.registeredFunctions[e];if(!t)throw new Error("Cannot load un-registered function: "+e);i.add(t)}),i},$.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){$.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},$.Pipeline.prototype.after=function(e,t){$.Pipeline.warnIfFunctionNotRegistered(t);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");i+=1,this._stack.splice(i,0,t)},$.Pipeline.prototype.before=function(e,t){$.Pipeline.warnIfFunctionNotRegistered(t);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");this._stack.splice(i,0,t)},$.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},$.Pipeline.prototype.run=function(e){for(var t=[],i=e.length,o=this._stack.length,n=0;n<i;n++){for(var r=e[n],s=0;s<o&&void 0!==(r=this._stack[s](r,n,e));s++);void 0!==r&&t.push(r)}return t},$.Pipeline.prototype.reset=function(){this._stack=[]},$.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return $.Pipeline.warnIfFunctionNotRegistered(e),e.label})},$.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},$.Vector.Node=function(e,t,i){this.idx=e,this.val=t,this.next=i},$.Vector.prototype.insert=function(e,t){this._magnitude=void 0;var i=this.list;if(!i)return this.list=new $.Vector.Node(e,t,i),this.length++;if(e<i.idx)return this.list=new $.Vector.Node(e,t,i),this.length++;for(var o=i,n=i.next;null!=n;){if(e<n.idx)return o.next=new $.Vector.Node(e,t,n),this.length++;n=(o=n).next}return o.next=new $.Vector.Node(e,t,n),this.length++},$.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e,t=this.list,i=0;t;)i+=(e=t.val)*e,t=t.next;return this._magnitude=Math.sqrt(i)},$.Vector.prototype.dot=function(e){for(var t=this.list,i=e.list,o=0;t&&i;)t.idx<i.idx?t=t.next:i=(t.idx>i.idx||(o+=t.val*i.val,t=t.next),i.next);return o},$.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},$.SortedSet=function(){this.length=0,this.elements=[]},$.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},$.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},$.SortedSet.prototype.toArray=function(){return this.elements.slice()},$.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},$.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},$.SortedSet.prototype.indexOf=function(e){for(var t=0,i=this.elements.length,o=i-t,n=t+Math.floor(o/2),r=this.elements[n];1<o;){if(r===e)return n;r<e&&(t=n),e<r&&(i=n),o=i-t,n=t+Math.floor(o/2),r=this.elements[n]}return r===e?n:-1},$.SortedSet.prototype.locationFor=function(e){for(var t=0,i=this.elements.length,o=i-t,n=t+Math.floor(o/2),r=this.elements[n];1<o;)r<e&&(t=n),e<r&&(i=n),o=i-t,n=t+Math.floor(o/2),r=this.elements[n];return e<r?n:r<e?n+1:void 0},$.SortedSet.prototype.intersect=function(e){for(var t=new $.SortedSet,i=0,o=0,n=this.length,r=e.length,s=this.elements,a=e.elements;!(n-1<i||r-1<o);)s[i]!==a[o]?s[i]<a[o]?i++:s[i]>a[o]&&o++:(t.add(s[i]),i++,o++);return t},$.SortedSet.prototype.clone=function(){var e=new $.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},$.SortedSet.prototype.union=function(e){var t,i,o;return i=this.length>=e.length?(t=this,e):(t=e,this),(o=t.clone()).add.apply(o,i.toArray()),o},$.SortedSet.prototype.toJSON=function(){return this.toArray()},$.Index=function(){this._fields=[],this._ref="id",this.pipeline=new $.Pipeline,this.documentStore=new $.Store,this.tokenStore=new $.TokenStore,this.corpusTokens=new $.SortedSet,this.eventEmitter=new $.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},$.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},$.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},$.Index.load=function(e){e.version!==$.version&&$.utils.warn("version mismatch: current "+$.version+" importing "+e.version);var t=new this;return t._fields=e.fields,t._ref=e.ref,t.documentStore=$.Store.load(e.documentStore),t.tokenStore=$.TokenStore.load(e.tokenStore),t.corpusTokens=$.SortedSet.load(e.corpusTokens),t.pipeline=$.Pipeline.load(e.pipeline),t},$.Index.prototype.field=function(e,t){var i={name:e,boost:(t=t||{}).boost||1};return this._fields.push(i),this},$.Index.prototype.ref=function(e){return this._ref=e,this},$.Index.prototype.add=function(i,e){var o={},n=new $.SortedSet,t=i[this._ref];e=void 0===e||e;this._fields.forEach(function(e){var t=this.pipeline.run($.tokenizer(i[e.name]));o[e.name]=t,$.SortedSet.prototype.add.apply(n,t)},this),this.documentStore.set(t,n),$.SortedSet.prototype.add.apply(this.corpusTokens,n.toArray());for(var r=0;r<n.length;r++){var s=n.elements[r],a=this._fields.reduce(function(e,t){var i=o[t.name].length;return i?e+o[t.name].filter(function(e){return e===s}).length/i*t.boost:e},0);this.tokenStore.add(s,{ref:t,tf:a})}e&&this.eventEmitter.emit("add",i,this)},$.Index.prototype.remove=function(e,t){var i=e[this._ref];t=void 0===t||t;if(this.documentStore.has(i)){var o=this.documentStore.get(i);this.documentStore.remove(i),o.forEach(function(e){this.tokenStore.remove(e,i)},this),t&&this.eventEmitter.emit("remove",e,this)}},$.Index.prototype.update=function(e,t){t=void 0===t||t;this.remove(e,!1),this.add(e,!1),t&&this.eventEmitter.emit("update",e,this)},$.Index.prototype.idf=function(e){var t="@"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,t))return this._idfCache[t];var i=this.tokenStore.count(e),o=1;return 0<i&&(o=1+Math.log(this.documentStore.length/i)),this._idfCache[t]=o},$.Index.prototype.search=function(e){var t=this.pipeline.run($.tokenizer(e)),l=new $.Vector,o=[],n=this._fields.reduce(function(e,t){return e+t.boost},0);return t.some(function(e){return this.tokenStore.has(e)},this)?(t.forEach(function(a,e,t){var h=1/t.length*this._fields.length*n,u=this,i=this.tokenStore.expand(a).reduce(function(e,t){var i=u.corpusTokens.indexOf(t),o=u.idf(t),n=1,r=new $.SortedSet;if(t!==a){var s=Math.max(3,t.length-a.length);n=1/Math.log(s)}return-1<i&&l.insert(i,h*o*n),Object.keys(u.tokenStore.get(t)).forEach(function(e){r.add(e)}),e.union(r)},new $.SortedSet);o.push(i)},this),o.reduce(function(e,t){return e.intersect(t)}).map(function(e){return{ref:e,score:l.similarity(this.documentVector(e))}},this).sort(function(e,t){return t.score-e.score})):[]},$.Index.prototype.documentVector=function(e){for(var t=this.documentStore.get(e),i=t.length,o=new $.Vector,n=0;n<i;n++){var r=t.elements[n],s=this.tokenStore.get(r)[e].tf,a=this.idf(r);o.insert(this.corpusTokens.indexOf(r),s*a)}return o},$.Index.prototype.toJSON=function(){return{version:$.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},$.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},$.Store=function(){this.store={},this.length=0},$.Store.load=function(i){var e=new this;return e.length=i.length,e.store=Object.keys(i.store).reduce(function(e,t){return e[t]=$.SortedSet.load(i.store[t]),e},{}),e},$.Store.prototype.set=function(e,t){this.has(e)||this.length++,this.store[e]=t},$.Store.prototype.get=function(e){return this.store[e]},$.Store.prototype.has=function(e){return e in this.store},$.Store.prototype.remove=function(e){this.has(e)&&(delete this.store[e],this.length--)},$.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},$.stemmer=(u={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},l={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",o="[^aeiou][^aeiouy]*",c=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),d=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),p=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),f=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),m=/^(.+?)(ss|i)es$/,y=/^(.+?)([^s])s$/,v=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,S=/.$/,w=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),k=new RegExp("^"+o+i+"[^aeiouwxy]$"),b=/^(.+?[^aeiou])y$/,E=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,_=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,F=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,O=/^(.+?)(s|t)(ion)$/,P=/^(.+?)e$/,N=/ll$/,T=new RegExp("^"+o+i+"[^aeiouwxy]$"),function(e){var t,i,o,n,r,s,a;if(e.length<3)return e;if("y"==(o=e.substr(0,1))&&(e=o.toUpperCase()+e.substr(1)),r=y,(n=m).test(e)?e=e.replace(n,"$1$2"):r.test(e)&&(e=e.replace(r,"$1$2")),r=g,(n=v).test(e)){var h=n.exec(e);(n=c).test(h[1])&&(n=S,e=e.replace(n,""))}else r.test(e)&&(t=(h=r.exec(e))[1],(r=f).test(t)&&(s=x,a=k,(r=w).test(e=t)?e+="e":s.test(e)?(n=S,e=e.replace(n,"")):a.test(e)&&(e+="e")));return(n=b).test(e)&&(e=(t=(h=n.exec(e))[1])+"i"),(n=E).test(e)&&(t=(h=n.exec(e))[1],i=h[2],(n=c).test(t)&&(e=t+u[i])),(n=_).test(e)&&(t=(h=n.exec(e))[1],i=h[2],(n=c).test(t)&&(e=t+l[i])),r=O,(n=F).test(e)?(t=(h=n.exec(e))[1],(n=d).test(t)&&(e=t)):r.test(e)&&(t=(h=r.exec(e))[1]+h[2],(r=d).test(t)&&(e=t)),(n=P).test(e)&&(t=(h=n.exec(e))[1],r=p,s=T,((n=d).test(t)||r.test(t)&&!s.test(t))&&(e=t)),r=d,(n=N).test(e)&&r.test(e)&&(n=S,e=e.replace(n,"")),"y"==o&&(e=o.toLowerCase()+e.substr(1)),e}),$.Pipeline.registerFunction($.stemmer,"stemmer"),$.stopWordFilter=function(e){return e&&$.stopWordFilter.stopWords[e]!==e?e:void 0},$.stopWordFilter.stopWords={a:"a",able:"able",about:"about",across:"across",after:"after",all:"all",almost:"almost",also:"also",am:"am",among:"among",an:"an",and:"and",any:"any",are:"are",as:"as",at:"at",be:"be",because:"because",been:"been",but:"but",by:"by",can:"can",cannot:"cannot",could:"could",dear:"dear",did:"did",do:"do",does:"does",either:"either",else:"else",ever:"ever",every:"every",for:"for",from:"from",get:"get",got:"got",had:"had",has:"has",have:"have",he:"he",her:"her",hers:"hers",him:"him",his:"his",how:"how",however:"however",i:"i",if:"if",in:"in",into:"into",is:"is",it:"it",its:"its",just:"just",least:"least",let:"let",like:"like",likely:"likely",may:"may",me:"me",might:"might",most:"most",must:"must",my:"my",neither:"neither",no:"no",nor:"nor",not:"not",of:"of",off:"off",often:"often",on:"on",only:"only",or:"or",other:"other",our:"our",own:"own",rather:"rather",said:"said",say:"say",says:"says",she:"she",should:"should",since:"since",so:"so",some:"some",than:"than",that:"that",the:"the",their:"their",them:"them",then:"then",there:"there",these:"these",they:"they",this:"this",tis:"tis",to:"to",too:"too",twas:"twas",us:"us",wants:"wants",was:"was",we:"we",were:"were",what:"what",when:"when",where:"where",which:"which",while:"while",who:"who",whom:"whom",why:"why",will:"will",with:"with",would:"would",yet:"yet",you:"you",your:"your"},$.Pipeline.registerFunction($.stopWordFilter,"stopWordFilter"),$.trimmer=function(e){var t=e.replace(/^\W+/,"").replace(/\W+$/,"");return""===t?void 0:t},$.Pipeline.registerFunction($.trimmer,"trimmer"),$.TokenStore=function(){this.root={docs:{}},this.length=0},$.TokenStore.load=function(e){var t=new this;return t.root=e.root,t.length=e.length,t},$.TokenStore.prototype.add=function(e,t,i){i=i||this.root;var o=e[0],n=e.slice(1);return o in i||(i[o]={docs:{}}),0===n.length?(i[o].docs[t.ref]=t,void(this.length+=1)):this.add(n,t,i[o])},$.TokenStore.prototype.has=function(e){if(!e)return!1;for(var t=this.root,i=0;i<e.length;i++){if(!t[e[i]])return!1;t=t[e[i]]}return!0},$.TokenStore.prototype.getNode=function(e){if(!e)return{};for(var t=this.root,i=0;i<e.length;i++){if(!t[e[i]])return{};t=t[e[i]]}return t},$.TokenStore.prototype.get=function(e,t){return this.getNode(e,t).docs||{}},$.TokenStore.prototype.count=function(e,t){return Object.keys(this.get(e,t)).length},$.TokenStore.prototype.remove=function(e,t){if(e){for(var i=this.root,o=0;o<e.length;o++){if(!(e[o]in i))return;i=i[e[o]]}delete i.docs[t]}},$.TokenStore.prototype.expand=function(t,i){var e=this.getNode(t),o=e.docs||{};i=i||[];return Object.keys(o).length&&i.push(t),Object.keys(e).forEach(function(e){"docs"!==e&&i.concat(this.expand(t+e,i))},this),i},$.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},e=this,t=function(){return $},"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=$:e.lunr=$}();